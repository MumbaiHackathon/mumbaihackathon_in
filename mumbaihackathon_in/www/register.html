{% extends "templates/hackathon.html" %}

{% block title %}Mumbai Hackathon 2020 - An Opensource Hackathon{% endblock %}

{% block meta %}
    <meta name="description" content="Date: 15th and 16th March 2020. Place: Don Bosco Insitute of Technology, Kurla West. Mumbai Hackathon is an annual Open Source hackathon organized by FOSS United & Don Bosco Institue of Technology, Mumbai." />
    <meta name="keywords" content="mumbai hackathon, hackathon in mumbai, opensource hackathon, open-source hackathon, open source hackathon, hackathon 2020, india hackathon, india hackathon 2020" />
{% endblock %}

{% block body %}
            <div class="text-xl text-grey mt-8 text-center md:text-left">
                Hack with us at the Don Bosco Institute of Technology on 14 and 15 of March, and win â‚¹75,000 cash prize!
            </div>
            <div class="mt-8 md:mt-16">
                <form class="w-full max-w-sm mx-auto">
                    <div class="flex flex-wrap">
                        <div class="w-full px-3 mb-6">
                            <label>
                                <span class="hidden">
                                    Your Name
                                </span>
                                <input type="text" name="name" class="w-full bg-faded-black rounded py-3 px-5 text-grey outline-none hover:out" placeholder="Your Name">
                            </label>
                        </div>
                    </div>
                    <div class="flex flex-wrap">
                        <div class="w-full md:w-1/2 px-3 mb-6">
                            <label>
                                <span class="hidden">
                                    Your Team Name
                                </span>
                                <input type="text" name="team_name" class="w-full bg-faded-black rounded py-3 px-5 text-grey outline-none hover:out" placeholder="Your Team Name">
                            </label>
                        </div>
                        <div class="w-full md:w-1/2 px-3 mb-6">
                            <label>
                                <span class="hidden">
                                    Your Email Address
                                </span>
                                <input type="text" name="email" class="w-full bg-faded-black rounded py-3 px-5 text-grey outline-none hover:out" placeholder="Your Email Address">
                            </label>
                        </div>
                    </div>
                    <div class="flex flex-wrap">
                        <div class="w-full px-3 mb-6">
                            <label>
                                <span class="hidden">
                                    Institute
                                </span>
                                <input type="text" name="organization" class="w-full bg-faded-black rounded py-3 px-5 text-grey outline-none hover:out" placeholder="Institute">
                            </label>
                        </div>
                    </div>
                    <div class="flex flex-wrap">
                        <div class="w-full px-3 mb-6">
                            <label>
                                <span class="hidden">
                                    How did you hear about us?
                                </span>
                                <input type="text" name="source" class="w-full bg-faded-black rounded py-3 px-5 text-grey outline-none hover:out" placeholder="How did you hear about us?">
                            </label>
                        </div>
                    </div>
                    <div class="flex text-center">
                        <div class="w-full px-3 mb-6">
                            <button type="button" class="w-full md:w-1/3 bg-yellow text-black font-bold font-display py-3 px-5 rounded" onclick="form_confirm()">Register</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="text-center text-white text-xl message"> </div>
            <div class="mt-8 text-center">
                <div class="text-grey" id="message">P.S. You are about to register the uncool way.</div>
            </div>
    {% endblock %}

    {% block scripts %}
    <script>
            function form_confirm() {
                var fullname = $('input[name="name"]').val();
                var email = $('input[name="email"]').val();
                var organization = $('input[name="organization"]').val();
                var source = $('input[name="source"]').val();
                var team_name = $('input[name="team_name"]').val();

                if (!fullname) {
                    $('.message').html("Name is required");
                    $('input[name="name"]').focus();
                }

                else if (!email) {
                    $('.message').html("Email is required");
                    $('input[name="email"]').focus();
                }

                else {
                    $(".message").empty();
                    const values = {
                        fullname: fullname,
                        email: email,
                        organization: organization,
                        team_name: team_name,
                        source: source,
                        registration_method: 'Form'
                    }
                    register(values)
                        .then(message => {
                            $('.message').html(message);
                            $("input").val("");
                        });
                }
            }
        </script>
        {% endblock %}